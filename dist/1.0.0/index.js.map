{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/lib/hash.ts","webpack:///./src/lib/str.ts","webpack:///./src/index.ts","webpack:///./src/lib/screen.ts","webpack:///./src/lib/ajax.ts","webpack:///./src/lib/date.ts","webpack:///./src/lib/cookie.ts","webpack:///./src/lib/form.ts","webpack:///./src/lib/file.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","stringify","obj","sep","eqs","buffer","keys","val","push","encodeURIComponent","JSON","join","parse","str","trim","length","split","kv","decodeURIComponent","pushOnHashChange","fn","pr","window","onhashchange","ev","this","getHash","location","hash","toString","substr","getData","HASH","splitFirstString","setData","data","splitter","pos","indexOf","screen","arr","ajax","date","cookie","form","file","getClientRect","dom","document","documentElement","top","clientTop","left","clientLeft","width","clientWidth","height","clientHeight","pushOnScreenResize","onresize","requestCommon","method","url","type","body","headers","Promise","resolve","reject","readyCallback","request","XMLHttpRequest","ActiveXObject","onreadystatechange","readyState","open","send","requestBase","undefined","state","OPENED","responseType","setRequestHeader","DONE","status","response","Error","statusText","post","FormData","append","Requester","prefix","_prefix","_data","_headers","format","toFormat","formatType","Date","buf","ch","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","set","expire","path","setTime","getTime","getExpireTime","toUTCString","cacheCookies","del","reload","loadCookies","getFormValues","objForm","HTMLFormElement","querySelector","tagName","toUpperCase","holder","elements","elem","checked","files","setFormValues","querySelectorAll","item","some","x","click","setSelectOptions","sel","HTMLSelectElement","options","forEach","element","add","Option","title","__URL__","URL","webkitURL","FileLoader","input","createElement","field","setAttribute","callback","onchange","load","downloadBlob","blob","filename","A","href","createObjectURL","download","remove","downloadText","text","Blob","readFileText","f","reader","FileReader","readAsText","onload","result","readFileBase64","readAsDataURL","readFileBinary","readAsBinaryString"],"mappings":"6DACE,IAAIA,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUC,QAGnC,IAAIC,EAASJ,EAAiBE,GAAY,CACzCG,EAAGH,EACHI,GAAG,EACHH,QAAS,IAUV,OANAI,EAAQL,GAAUM,KAAKJ,EAAOD,QAASC,EAAQA,EAAOD,QAASF,GAG/DG,EAAOE,GAAI,EAGJF,EAAOD,QA0Df,OArDAF,EAAoBQ,EAAIF,EAGxBN,EAAoBS,EAAIV,EAGxBC,EAAoBU,EAAI,SAASR,EAASS,EAAMC,GAC3CZ,EAAoBa,EAAEX,EAASS,IAClCG,OAAOC,eAAeb,EAASS,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEZ,EAAoBkB,EAAI,SAAShB,GACX,oBAAXiB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAeb,EAASiB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,KAQvDrB,EAAoBsB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQrB,EAAoBqB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFA1B,EAAoBkB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOrB,EAAoBU,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRzB,EAAoB6B,EAAI,SAAS1B,GAChC,IAAIS,EAAST,GAAUA,EAAOqB,WAC7B,WAAwB,OAAOrB,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAH,EAAoBU,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRZ,EAAoBa,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG/B,EAAoBkC,EAAI,GAIjBlC,EAAoBA,EAAoBmC,EAAI,G,6qCClFrD,WASa,EAAAC,UACb,SAACC,EAAaC,EAAcC,GACxBD,EAAMA,GAAO,IACbC,EAAMA,GAAO,IAEb,IADA,IAAMC,EAAmB,GACzB,MAAgB1B,OAAO2B,KAAKJ,GAA5B,eAAkC,CAA7B,IAAIV,EAAG,KAEJe,EAAWL,EAAIV,GACnBa,EAAOG,KAAK,CAAChB,EAAKiB,mBAAmBC,KAAKT,UAAUM,KAAOI,KAAKP,IAEpE,OAAOC,EAAOM,KAAKR,IASV,EAAAS,MACb,SAACC,EAAaV,EAAcC,GACxB,IAAIC,EAAS,GAEb,GAAI,KADJQ,EAAMA,EAAIC,QACIC,OAAQ,OAAOV,EAC7BF,EAAMA,GAAO,IACbC,EAAMA,GAAO,IALmC,UAM/BS,EAAIG,MAAMb,IANqB,IAMhD,2BAAiC,KACzBc,EADyB,QACLD,MAAMZ,GAC9BzB,OAAOC,eACHyB,EACAY,EAAG,GACH,CAII/B,MAAOwB,KAAKE,MAAMM,mBAAmBD,EAAG,QAfJ,8BAoBhD,OAAOZ,GAUE,EAAAc,iBACb,SAACC,GACG,IAAMC,EAAKC,OAAOC,aAEdD,OAAOC,aADP,MAASF,EACaD,EAGA,SAAqCI,GACvDH,EAAGjD,KAAKqD,KAAMD,GACdJ,EAAGhD,KAAKqD,KAAMD,KAKb,EAAAE,QACb,WACI,IAAI1B,EAAIsB,OAAOK,SAASC,KAAKC,WAC7B,OAAO7B,EAAE8B,OAAO,EAAG9B,EAAEe,OAAS,IAMrB,EAAAgB,QACb,WACI,IAAMC,EAAO,EAAAC,iBAAiB,EAAAP,UAAW,KACzC,OAAO,EAAAd,MAAMoB,EAAK,KAMT,EAAAE,QACb,SAACC,GACG,IAAMH,EAAO,EAAAC,iBAAiB,EAAAP,UAAW,KACzCJ,OAAOK,SAASC,KAAhB,UAA0BI,EAAK,GAA/B,YAAqC,EAAA/B,UAAUkC,M,wGCxFtC,EAAAF,iBACb,SAACjC,EAAWoC,GACR,IAAMC,EAAMrC,EAAEsC,QAAQF,GACtB,OAAK,IAAMC,EACA,CAACrC,EAAG,IAEJ,CACHA,EAAE8B,OAAO,EAAGO,GACZrC,EAAE8B,OAAOO,EAAM,EAAGrC,EAAEe,OAASsB,EAAM,M,sJCZ/C,WAWI,EAAAE,SAVJ,WAWI,EAAAX,OAVJ,WAWI,EAAAf,MAVJ,WAWI,EAAA2B,MAVJ,WAWI,EAAAC,OAVJ,WAWI,EAAAC,OAVJ,WAWI,EAAAC,SAVJ,WAWI,EAAAC,OAVJ,WAWI,EAAAC,Q,0HCdS,EAAAC,cACb,WACI,IAAMC,EAAMC,SAASC,gBACrB,MAAO,CACHC,IAAKH,EAAII,UACTC,KAAML,EAAIM,WACVC,MAAOP,EAAIQ,YACXC,OAAQT,EAAIU,eAcP,EAAAC,mBACb,SAACtC,GACG,IAAMC,EAAKC,OAAOqC,SAEdrC,OAAOqC,SADP,MAAStC,EACSD,EAGA,SAAqCI,GACnDH,EAAGjD,KAAKqD,KAAgBD,GACxBJ,EAAGhD,KAAKqD,KAAgBD,M,mWCrCpC,WA+BMoC,EAAgB,SAClBC,EACAC,EACAC,EACAC,EACAC,GAEA,OAAO,IAAIC,SAAQ,SAACC,EAAcC,IA/BtC,SACIP,EACAC,EACAE,EACAK,GAEA,IAAMC,EACFhD,OAAOiD,eACH,IAAIA,eACJ,IAAIC,cAAc,qBAE1BF,EAAQG,mBAAqB,SAAgCjD,GAQzD6C,EAAc5C,KAAKiD,WAAYjD,KAAMD,IAEzC8C,EAAQK,KAAKd,EAAQC,GACrBQ,EAAQM,KAAKZ,GAUTa,CAAYhB,EAAQC,OAAMgB,IAAcd,EAAO,KAAOA,GAAO,SAACe,EAAOT,EAAS9C,GAC1E,OAAQuD,GACJ,KAAKR,eAAeS,OAIhB,GAFAV,EAAQW,aAAelB,GAAQ,OAE3Be,MAAcb,EAA6B,MAC/C,cAAgBtF,OAAO2B,KAAK2D,GAA5B,eAAsC,CAAjC,IAAIzE,EAAG,KAER8E,EAAQY,iBAAiB1F,EAAKyE,EAAQzE,IAE1C,MACJ,KAAK+E,eAAeY,KAEZb,EAAQc,QAAU,KAAOd,EAAQc,OAAS,KAC1C,MAAQd,EAAQc,OAIhBjB,EAAQG,EAAQe,UAEhBjB,EAAO,IAAIkB,MAAMhB,EAAQiB,qBASpC,EAAAzG,IAAM,SACfgF,EACAC,EACA5B,EACA8B,GAKA,OAHIa,MAAc3C,IACd2B,EAAM,GAAH,OAAMA,EAAN,YAAalC,EAAK3B,UAAUkC,KAE5ByB,EAAc,MAAOE,EAAKC,EAAM,KAAME,IAGpC,EAAAuB,KAAO,SAChB1B,EACAC,EACA5B,EACA8B,GAEA,IAAIrB,EAAO,KACX,GAAIkC,MAAc3C,EACd,GAAIA,aAAgBsD,SAChB7C,EAAOT,MACJ,CACHS,EAAO,IAAI6C,SACX,cAAgB9G,OAAO2B,KAAK6B,GAA5B,eAAmC,CAA9B,IAAI3C,EAAG,KAERoD,EAAK8C,OAAOlG,EAAK2C,EAAK3C,KAIlC,OAAOoE,EAAc,OAAQE,EAAKC,EAAMnB,EAAMqB,I,IAGrC0B,E,WAsBT,WAAYC,EAAwBzD,EAAsB8B,I,4FAAuB,SAC7ExC,KAAKoE,QAAWf,MAAcc,EAA6B,GAAKA,EAChEnE,KAAKqE,MAAShB,MAAc3C,EAAyB,GAAKA,EAC1DV,KAAKsE,SAAYjB,MAAcb,EAA+B,GAAKA,E,mDAInEH,EACAC,EACA5B,EACA8B,GAIA,OAFA9B,EAAOA,GAAQ,GACf8B,EAAUA,GAAW,GACd,EAAAnF,IACH2C,KAAKoE,QAAU/B,EACfC,EAAI,+BACAtC,KAAKqE,OAAU3D,GAAI,+BACnBV,KAAKsE,UAAa9B,M,2BAK1BH,EACAC,EACA5B,EACA8B,GAIA,OAFA9B,EAAOA,GAAQ,GACf8B,EAAUA,GAAW,GACd,EAAAuB,KACH/D,KAAKoE,QAAU/B,EACfC,EAAI,+BACAtC,KAAKqE,OAAU3D,GAAI,+BACnBV,KAAKsE,UAAa9B,M,8BAItBH,EAAa3B,EAAe8B,GAChC,OAAO,EAAAnF,IAAIgF,EAAK,OAAQ3B,EAAM8B,K,+BAEzBH,EAAa3B,EAAe8B,GACjC,OAAO,EAAAuB,KAAK1B,EAAK,OAAQ3B,EAAM8B,K,8BAE3BH,EAAa3B,EAAe8B,GAChC,OAAO,EAAAnF,IAAIgF,EAAK,OAAQ3B,EAAM8B,K,+BAEzBH,EAAa3B,EAAe8B,GACjC,OAAO,EAAAuB,KAAK1B,EAAK,OAAQ3B,EAAM8B,K,6BApE/B,OAAOxC,KAAKoE,S,aAEL3G,GACPuC,KAAKoE,QAAU3G,I,2BAGf,OAAOuC,KAAKqE,O,aAEP5G,GACLuC,KAAKqE,MAAQ5G,I,8BAGb,OAAOuC,KAAKsE,U,aAEJ7G,GACRuC,KAAKsE,SAAW7G,O,gCAjBxB,e,8FCjGa,EAAA8G,OACb,SAACC,EAAoCC,GAE7BD,OADAnB,IAAcmB,EACH,IAAIE,KAEHF,aAAoBE,KAAQF,EAAW,IAAIE,KAAKF,GAChEC,EAAaA,GAAc,cAG3B,IADA,IAAME,EAA8B,GAC5BnI,EAAE,EAAGA,EAAEiI,EAAWnF,OAAQ9C,IAAK,CACnC,IAAIoI,EAAKH,EAAWpE,OAAO7D,EAAG,GAC9B,OAAOoI,GACH,IAAK,IAAKD,EAAI5F,KAAKyF,EAASK,eAAgB,MAC5C,IAAK,IAAKF,EAAI5F,KAAKyF,EAASM,WAAW,GAAI,MAC3C,IAAK,IAAKH,EAAI5F,KAAKyF,EAASO,WAAY,MACxC,IAAK,IAAKJ,EAAI5F,KAAKyF,EAASQ,YAAa,MACzC,IAAK,IAAKL,EAAI5F,KAAKyF,EAASS,cAAe,MAC3C,IAAK,IAAKN,EAAI5F,KAAKyF,EAASU,cAAe,MAC3C,IAAK,IAAKP,EAAI5F,KAAKyF,EAASW,mBAAoB,MAChD,QAASR,EAAI5F,KAAK6F,IAG1B,OAAOD,EAAIzF,KAAK,M,wnCCMP,EAAAkG,IAAM,SACfrI,EAAcU,EAAkB4H,EAAmBC,GAEnDD,EA9BkB,SAACA,GAEnB,GAAIA,aAAkBX,KAClB,OAAOW,EAGX,GAAI,iBAAoBA,EACpB,OAAO,IAAIX,KAAKW,GAGpB,GAAI,iBAAoBA,EAAQ,CAC5B,IAAIpE,EAAO,IAAIyD,KAEf,OADAzD,EAAKsE,QAAQtE,EAAKuE,UAAsB,IAATH,GACxBpE,GAiBFwE,CAAcJ,GACvB,IAAMzG,EAAS,GAEfA,EAAOG,KAAKhC,EAAKsC,QACjBT,EAAOG,KAAK,KACZH,EAAOG,KAAKC,mBAAmBC,KAAKT,UAAUf,UAE1C4F,IAAcgC,IACdzG,EAAOG,KAAK,aACZH,EAAOG,KAAKsG,EAAOK,qBAGnBrC,IAAciC,IACd1G,EAAOG,KAAK,UACZH,EAAOG,KAAKuG,IAEhB/D,SAASL,OAAStC,EAAOM,KAAK,IAE9ByG,OAAetC,GAQN,EAAAuC,IAAM,SAAC7I,EAAcuI,GAC9B,IAAM1G,EAAS,GAEfA,EAAOG,KAAKhC,EAAKsC,QACjBT,EAAOG,KAAK,KAEZH,EAAOG,KAAK,aACZH,EAAOG,MAAK,IAAI2F,MAAOgB,oBAEnBrC,IAAciC,IACd1G,EAAOG,KAAK,UACZH,EAAOG,KAAKuG,IAEhB/D,SAASL,OAAStC,EAAOM,KAAK,IAE9ByG,OAAetC,GAInB,IAAIsC,OAAmCtC,EA2B1B,EAAAhG,IAAM,SACfN,EACA8I,GAIA,YAFIxC,IAAcsC,IAAgB,IAASE,GA3B/C,WACIF,EAAe,GACf,IAFgB,MAEFpE,SAASL,OAAO3B,MAAM,MAFpB,IAGhB,2BAA0B,KAClBC,EADkB,QACRH,OAAOE,MAAM,KAC3BrC,OAAOC,eACHwI,EACAnG,EAAG,GACH,CAII/B,MAAOwB,KAAKE,MAAMM,mBAAmBD,EAAG,QAZpC,+BA2BmCsG,GAE5CH,EAAa5I,K,ypCCrEX,EAAAgJ,cAAgB,SACzB5E,GAEA,IAAI6E,EAAU7E,aAAgB8E,gBAC1B9E,EACAI,SAAS2E,cAAc/E,GAC3B,GAAI,SAAW6E,EAAQG,QAAQC,cAAe,OAAO,KAGrD,IAPe,EAOXC,EAAS,GAPE,IAQKL,EAAQM,UARb,IAQf,2BAAsC,KAE9BC,EAF8B,QAGlC,GAAI,OAASA,EAAKxJ,MAAQ,OAASwJ,EAAKjE,KAGxC,OAAQiE,EAAKjE,MAET,IAAK,QACD,IAAKiE,EAAKC,QAAS,MACnBtJ,OAAOC,eAAekJ,EAAQE,EAAKxJ,KAAM,CAAEU,MAAO8I,EAAK9I,QACvD,MAGJ,IAAK,WACI4I,EAAOhI,eAAekI,EAAKxJ,OAC5BG,OAAOC,eAAekJ,EAAQE,EAAKxJ,KAAM,CAAEU,MAAO,KAElD8I,EAAKC,SAELH,EAAOE,EAAKxJ,MAAMgC,KAAKwH,EAAK9I,OAEhC,MAEJ,IAAK,OACG8I,EAAKE,MAAMnH,OAAS,GACpBpC,OAAOC,eAAekJ,EAAQE,EAAKxJ,KAAM,CAAEU,MAAO8I,EAAKE,MAAM,KAEjE,MAEJ,IAAK,aAEL,IAAK,OACL,IAAK,WACL,IAAK,SACL,IAAK,QACL,IAAK,QAEL,IAAK,OACL,IAAK,OACL,IAAK,WACL,IAAK,iBACL,IAAK,OACL,IAAK,QACL,IAAK,OAEL,IAAK,QAEL,IAAK,WACD,GAAIJ,EAAOhI,eAAekI,EAAKxJ,MAAO,MACtCG,OAAOC,eAAekJ,EAAQE,EAAKxJ,KAAM,CAAEU,MAAO8I,EAAK9I,UA1DpD,8BAgEf,OAAO4I,GAIE,EAAAK,cAAgB,SACzBvF,EACAT,GAEA,IAAIsF,EAAU7E,aAAgB8E,gBAC1B9E,EACAI,SAAS2E,cAAc/E,GAC3B,GAAI,SAAW6E,EAAQG,QAAQC,cAG/B,cAAiBlJ,OAAO2B,KAAK6B,GAA7B,eAAoC,CAA/B,IAAI3D,EAAI,KAEHU,EAAQiD,EAAK3D,GAEbuJ,EAAWN,EAAQW,iBAAR,sBAAwC5J,EAAxC,2BAA+DA,EAA/D,6BAAwFA,EAAxF,OACjB,GAAI,IAAMuJ,EAAShH,OAEnB,OAAQgH,EAAS,GAAGhE,MAChB,IAAK,QAAL,UACqBgE,GADrB,IACI,2BAA2B,KAAlBM,EAAkB,QACnB,UAAYA,EAAKtE,OACjBsE,EAAKJ,QAAW/I,GAASmJ,EAAKnJ,QAH1C,8BAKM,MACN,IAAK,WAAL,UACqB6I,GADrB,yBACaM,EADb,QAEY,aAAeA,EAAKtE,OACpBsE,EAAKJ,QAAW/I,EAAwBoJ,MAAK,SAAAC,GAAC,OAAIA,GAAKF,EAAKnJ,WAFpE,2BAA2B,IAD/B,8BAKM,MACN,IAAK,OACD6I,EAAS,GAAGS,QAChB,QACIT,EAAS,GAAG7I,MAAQA,KAYvB,EAAAuJ,iBAAmB,SAC5BC,EACAvG,GAEA,IAAIjC,EAAMwI,aAAeC,kBACrBD,EACA1F,SAAS2E,cAAce,GACvB,WAAaxI,EAAI0H,QAAQC,gBAC7B3H,EAAI0I,QAAQ7H,OAAS,EACrBoB,EAAK0G,SAAQ,SAAAC,GACT5I,EAAI6I,IAAI,IAAIC,OAAOF,EAAQG,MAAOH,EAAQ5J,c,uVC1KlD,IAAMgK,EAAU5H,OAAO6H,KAAO7H,OAAO8H,UAMxBC,E,WAET,c,4FAAA,SACI5H,KAAK6H,MAAQtG,SAASuG,cAAc,SACpC9H,KAAK6H,MAAMvF,KAAO,O,mDAElByF,EAAetK,GACfuC,KAAK6H,MAAMG,aAAaD,EAAOtK,K,2BAE9BwK,GACD,IAAMJ,EAAQ7H,KAAK6H,MACnBA,EAAMK,SAAW,SAAqCnI,GAClDkI,EAASJ,EAAMpB,U,6BAInBzG,KAAK6H,MAAMpK,MAAQ,GACnBuC,KAAK6H,MAAMd,U,+BAENkB,GACLjI,KAAKhC,KAAKiK,GACVjI,KAAKmI,Y,gCArBb,eA0Ba,EAAAC,aAAe,SACxBC,EACAC,GAEAA,EAAWA,GAAY,QAAS,IAAI5D,MAAOc,UAC3C,IAAM+C,EAAuBhH,SAASuG,cAAc,KACpDS,EAAEC,KAAOf,EAAQgB,gBAAgBJ,GACjCE,EAAEG,SAAWJ,EACbC,EAAExB,QACFwB,EAAEI,UAIO,EAAAC,aAAe,SACxBC,EACAP,GAEA,IAAID,EAAO,IAAIS,KAAK,CAChB7J,KAAKT,UAAUqK,OAAMxF,EAAW,UAEpC,EAAA+E,aAAaC,EAAMC,IAOV,EAAAS,aAAe,SAACC,EAAgBf,GACzC,IAAMgB,EAAS,IAAIC,WACnBD,EAAOE,WAAWH,GAClBC,EAAOG,OAAS,SAA4BrJ,GACxCkI,EAASjI,KAAKqJ,UAGT,EAAAC,eAAiB,SAACN,EAAgBf,GAC3C,IAAMgB,EAAS,IAAIC,WACnBD,EAAOM,cAAcP,GACrBC,EAAOG,OAAS,SAA4BrJ,GACxCkI,EAASjI,KAAKqJ,UAGT,EAAAG,eAAiB,SAACR,EAAgBf,GAC3C,IAAMgB,EAAS,IAAIC,WACnBD,EAAOQ,mBAAmBT,GAC1BC,EAAOG,OAAS,SAA4BrJ,GACxCkI,EAASjI,KAAKqJ","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","import { splitFirstString } from \"./str\";\r\n\r\n\r\n/**\r\n * Object->String\r\n * @param obj DataHolder\r\n * @param sep Separator\r\n * @param eqs Equal-sign\r\n */\r\nexport const stringify =\r\n(obj: object, sep?: string, eqs?: string): string => {\r\n    sep = sep || '&';\r\n    eqs = eqs || '=';\r\n    const buffer: string[] = [];\r\n    for (let key of Object.keys(obj)) {\r\n        // @ts-ignore\r\n        let val: any = obj[key];\r\n        buffer.push([key, encodeURIComponent(JSON.stringify(val))].join(eqs));\r\n    }\r\n    return buffer.join(sep);\r\n};\r\n\r\n/**\r\n * String->Dict\r\n * @param str\r\n * @param sep\r\n * @param eqs\r\n */\r\nexport const parse =\r\n(str: string, sep?: string, eqs?: string): object => {\r\n    let buffer = {};\r\n    str = str.trim();\r\n    if (0 === str.length) return buffer;\r\n    sep = sep || '&';\r\n    eqs = eqs || '=';\r\n    for (let item of str.split(sep)) {\r\n        let kv: string[] = item.split(eqs);\r\n        Object.defineProperty(\r\n            buffer,\r\n            kv[0],\r\n            {\r\n                // enumerable: false,\r\n                // configurable: false,\r\n                // writable: false,\r\n                value: JSON.parse(decodeURIComponent(kv[1]))\r\n            }\r\n        );\r\n        // buffer[kv[0]] = JSON.parse(decodeURIComponent(kv[1]));\r\n    }\r\n    return buffer;\r\n};\r\n\r\nexport interface onHashChangeCallback {\r\n    (this: WindowEventHandlers, ev: Event) : any\r\n};\r\n\r\n/**\r\n * Catch HashChange\r\n */\r\nexport const pushOnHashChange =\r\n(fn: onHashChangeCallback): void => {\r\n    const pr = window.onhashchange as onHashChangeCallback;\r\n    if (null === pr || undefined === pr) {\r\n        window.onhashchange = fn;\r\n    } else {\r\n        // 方法链\r\n        window.onhashchange = function (this: WindowEventHandlers, ev: Event): any {\r\n            pr.call(this, ev);\r\n            fn.call(this, ev);\r\n        }\r\n    }\r\n};\r\n\r\nexport const getHash =\r\n(): string => {\r\n    let s = window.location.hash.toString();\r\n    return s.substr(1, s.length - 1);\r\n}\r\n\r\n/**\r\n * 读取Hash值中?后的数据\r\n */\r\nexport const getData =\r\n(): object | null => {\r\n    const HASH = splitFirstString(getHash(), '?');\r\n    return parse(HASH[1]);\r\n};\r\n\r\n/**\r\n * 设置Hash值中?后的数据\r\n */\r\nexport const setData =\r\n(data: object): void => {\r\n    const HASH = splitFirstString(getHash(), '?');\r\n    window.location.hash = `${HASH[0]}?${stringify(data)}`;\r\n};","\n/**\n * 以左侧第一次发现的splitter将字符串切割为两部分\n * @param s 被切割的字符串\n * @param splitter 切割字符\n */\nexport const splitFirstString =\n(s: string, splitter: string): Array<string> => {\n    const pos = s.indexOf(splitter);\n    if (-1 === pos) {\n        return [s, \"\"];\n    } else {\n        return [\n            s.substr(0, pos),\n            s.substr(pos + 1, s.length - pos - 1)\n        ];\n    }\n}\n","// import(\"@babel/polyfill\");  // 兼容低版本浏览器Promise\r\n\r\nimport * as screen from \"./lib/screen\";\r\nimport * as hash from \"./lib/hash\";\r\nimport * as str from \"./lib/str\";\r\nimport * as arr from \"./lib/arr\";\r\nimport * as ajax from \"./lib/ajax\";\r\nimport * as date from \"./lib/date\";\r\nimport * as cookie from \"./lib/cookie\";\r\nimport * as form from \"./lib/form\";\r\nimport * as file from \"./lib/file\";\r\n\r\nexport {\r\n    screen,\r\n    hash,\r\n    str,\r\n    arr,\r\n    ajax,\r\n    date,\r\n    cookie,\r\n    form,\r\n    file\r\n}\r\n","export interface Rect {\r\n    top: number,\r\n    left: number,\r\n    width: number,\r\n    height: number\r\n};\r\n\r\nexport const getClientRect =\r\n(): Rect => {\r\n    const dom = document.documentElement;\r\n    return {\r\n        top: dom.clientTop,\r\n        left: dom.clientLeft,\r\n        width: dom.clientWidth,\r\n        height: dom.clientHeight\r\n    } as Rect;\r\n};\r\n\r\nexport interface onScreenResizeCallback {\r\n    (\r\n        this: GlobalEventHandlers | null,\r\n        ev: UIEvent | null\r\n    ): any\r\n};\r\n\r\n/**\r\n * 添加尺寸调整响应\r\n */\r\nexport const pushOnScreenResize =\r\n(fn: onScreenResizeCallback): void => {\r\n    const pr = window.onresize as onScreenResizeCallback;\r\n    if (null === pr || undefined === pr) {\r\n        window.onresize = fn;\r\n    } else {\r\n        // 方法链\r\n        window.onresize = function (this: GlobalEventHandlers, ev: UIEvent): any {\r\n            pr.call(this as Window, ev);\r\n            fn.call(this as Window, ev);\r\n        }\r\n    }\r\n};","import * as hash from \"./hash\";\r\n\r\n\r\ninterface onStateChangeCallback {\r\n    (state: number, request: XMLHttpRequest, ev: Event): void\r\n}\r\nconst requestBase =\r\n(\r\n    method: string,\r\n    url: string,\r\n    body: BodyInit | null,\r\n    readyCallback: onStateChangeCallback\r\n) => {\r\n    const request: XMLHttpRequest =\r\n        window.XMLHttpRequest ?\r\n            new XMLHttpRequest() :\r\n            new ActiveXObject(\"Microsoft.XMLHTTP\")\r\n        ;\r\n    request.onreadystatechange = function (this: XMLHttpRequest, ev: Event) {\r\n        /*readyState\r\n            0 === XMLHttpRequest.UNSENT\r\n            1 === XMLHttpRequest.OPENED\r\n            2 === XMLHttpRequest.HEADERS_RECEIVED\r\n            3 === XMLHttpRequest.LOADING\r\n            4 === XMLHttpRequest.DONE\r\n        */\r\n        readyCallback(this.readyState, this, ev);\r\n    };\r\n    request.open(method, url);\r\n    request.send(body);\r\n};\r\nconst requestCommon = (\r\n    method: string,\r\n    url: string,\r\n    type?: XMLHttpRequestResponseType | undefined,\r\n    body?: BodyInit | undefined | null,\r\n    headers?: object | undefined | null\r\n): Promise<any> => {\r\n    return new Promise((resolve: any, reject) => {\r\n        requestBase(method, url, (undefined === body ? null : body), (state, request, ev) => {\r\n            switch (state) {\r\n                case XMLHttpRequest.OPENED:\r\n                    // 设置接受值\r\n                    request.responseType = type || 'text';\r\n                    // 设置请求头\r\n                    if (undefined === headers || null === headers) break;\r\n                    for (let key of Object.keys(headers)) {\r\n                        // @ts-ignore\r\n                        request.setRequestHeader(key, headers[key]);\r\n                    }\r\n                    break;\r\n                case XMLHttpRequest.DONE:\r\n                    if (\r\n                        request.status >= 200 && request.status < 300 ||\r\n                        304 === request.status /* ReadCache */\r\n                    ) {\r\n                        // request.response\r\n                        // request.getAllResponseHeaders()\r\n                        resolve(request.response);\r\n                    } else {\r\n                        reject(new Error(request.statusText));\r\n                    }\r\n                    break;\r\n            }\r\n        });\r\n    });\r\n};\r\n\r\n\r\nexport const get = (\r\n    url: string,\r\n    type?: XMLHttpRequestResponseType,\r\n    data?: object,\r\n    headers?: object\r\n) => {\r\n    if (undefined !== data && null !== data) {\r\n        url = `${url}?${hash.stringify(data)}`;\r\n    }\r\n    return requestCommon(\"GET\", url, type, null, headers);\r\n};\r\n\r\nexport const post = (\r\n    url: string,\r\n    type?: XMLHttpRequestResponseType,\r\n    data?: object | FormData,\r\n    headers?: object\r\n) => {\r\n    let form = null;\r\n    if (undefined !== data && null !== data) {\r\n        if (data instanceof FormData) {\r\n            form = data;\r\n        } else {\r\n            form = new FormData();\r\n            for (let key of Object.keys(data)) {\r\n                // @ts-ignore\r\n                form.append(key, data[key]);\r\n            }\r\n        }\r\n    }\r\n    return requestCommon(\"POST\", url, type, form, headers);\r\n};\r\n\r\nexport class Requester {\r\n    get prefix(): string {\r\n        return this._prefix;\r\n    }\r\n    set prefix(value: string) {\r\n        this._prefix = value;\r\n    }\r\n    get data(): object {\r\n        return this._data;\r\n    }\r\n    set data(value: object) {\r\n        this._data = value;\r\n    }\r\n    get headers(): object {\r\n        return this._headers;\r\n    }\r\n    set headers(value: object) {\r\n        this._headers = value;\r\n    }\r\n    private _prefix: string;\r\n    private _data: object;\r\n    private _headers: object;\r\n    constructor(prefix?: string | null, data?: object | null, headers?: object | null) {\r\n        this._prefix = (undefined === prefix || null === prefix) ? \"\" : prefix;\r\n        this._data = (undefined === data || null === data) ? {} : data;\r\n        this._headers = (undefined === headers || null === headers) ? {} : headers;\r\n    }\r\n\r\n    get(\r\n        url: string,\r\n        type?: XMLHttpRequestResponseType,\r\n        data?: object | null,\r\n        headers?: object | null\r\n    ) {\r\n        data = data || {};\r\n        headers = headers || {};\r\n        return get(\r\n            this._prefix + url,\r\n            type,\r\n            {...this._data, ...data},\r\n            {...this._headers, ...headers}\r\n        );\r\n    }\r\n\r\n    post(\r\n        url: string,\r\n        type?: XMLHttpRequestResponseType,\r\n        data?: object | null,\r\n        headers?: object | null\r\n    ) {\r\n        data = data || {};\r\n        headers = headers || {};\r\n        return post(\r\n            this._prefix + url,\r\n            type,\r\n            {...this._data, ...data},\r\n            {...this._headers, ...headers}\r\n        );\r\n    }\r\n\r\n    getJson(url: string, data?: object, headers?: object) {\r\n        return get(url, \"json\", data, headers);\r\n    }\r\n    postJson(url: string, data?: object, headers?: object) {\r\n        return post(url, \"json\", data, headers);\r\n    }\r\n    getBlob(url: string, data?: object, headers?: object) {\r\n        return get(url, \"blob\", data, headers);\r\n    }\r\n    postBlob(url: string, data?: object, headers?: object) {\r\n        return post(url, \"blob\", data, headers);\r\n    }\r\n};\r\n","/**\r\n * 日期格式化\r\n * @param toFormat\r\n * @param formatType\r\n */\r\nexport const format =\r\n(toFormat? : Date | string | number, formatType?: string) => {\r\n    if (undefined === toFormat)\r\n        toFormat = new Date();\r\n    else\r\n        toFormat = (toFormat instanceof Date) ? toFormat : new Date(toFormat);\r\n    formatType = formatType || 'y-M-d h:m:s';\r\n\r\n    const buf: Array<string | number> = [];\r\n    for(let i=0; i<formatType.length; i++) {\r\n        let ch = formatType.substr(i, 1);\r\n        switch(ch) {\r\n            case 'y': buf.push(toFormat.getFullYear()); break;\r\n            case 'M': buf.push(toFormat.getMonth()+1); break;\r\n            case 'd': buf.push(toFormat.getDate()); break;\r\n            case 'h': buf.push(toFormat.getHours()); break;\r\n            case 'm': buf.push(toFormat.getMinutes()); break;\r\n            case 's': buf.push(toFormat.getSeconds()); break;\r\n            case 'S': buf.push(toFormat.getMilliseconds()); break;\r\n            default: buf.push(ch); break;\r\n        }\r\n    }\r\n    return buf.join('');\r\n};\r\n","\r\ntype DateType = Date | string | number;\r\n/**\r\n * 获取到期时间\r\n * @param expire\r\n */\r\nconst getExpireTime = (expire?: DateType) => {\r\n    // Date\r\n    if (expire instanceof Date) {\r\n        return expire;\r\n    }\r\n    // String\r\n    if ('string' === typeof expire) {\r\n        return new Date(expire);\r\n    }\r\n    // Number\r\n    if ('number' === typeof expire) {\r\n        let date = new Date();\r\n        date.setTime(date.getTime() + (expire * 1000));\r\n        return date;\r\n    }\r\n    // Undefined\r\n    return undefined;\r\n}\r\n\r\ntype ValueType = object | string | number;\r\n/**\r\n * 设置Cookie\r\n * @param name\r\n * @param value\r\n * @param expire\r\n * @param path\r\n */\r\nexport const set = (\r\n    name: string, value: ValueType, expire?: DateType, path?: string\r\n) => {\r\n    expire = getExpireTime(expire);\r\n    const buffer = [];\r\n    // K-V\r\n    buffer.push(name.trim());\r\n    buffer.push('=');\r\n    buffer.push(encodeURIComponent(JSON.stringify(value)));\r\n    // expire\r\n    if (undefined !== expire) {\r\n        buffer.push(';expires=');\r\n        buffer.push(expire.toUTCString());\r\n    }\r\n    // path\r\n    if (undefined !== path) {\r\n        buffer.push(';path=');\r\n        buffer.push(path);\r\n    }\r\n    document.cookie = buffer.join('');\r\n    // 重置缓存\r\n    cacheCookies = undefined;\r\n}\r\n\r\n/**\r\n * 删除Cookie\r\n * @param name\r\n * @param path\r\n */\r\nexport const del = (name: string, path: string) => {\r\n    const buffer = [];\r\n    // K-V\r\n    buffer.push(name.trim());\r\n    buffer.push('=');\r\n    // expires\r\n    buffer.push(';expires=');\r\n    buffer.push(new Date().toUTCString());\r\n    // path\r\n    if (undefined !== path) {\r\n        buffer.push(';path=');\r\n        buffer.push(path);\r\n    }\r\n    document.cookie = buffer.join('');\r\n    // 重置缓存\r\n    cacheCookies = undefined;\r\n}\r\n\r\n\r\nlet cacheCookies: undefined | object = undefined;\r\n/**\r\n * 加载Cookie\r\n */\r\nfunction loadCookies() {\r\n    cacheCookies = {};\r\n    let cookies = document.cookie.split(';');\r\n    for (let item of cookies) {\r\n        let kv = item.trim().split('=');\r\n        Object.defineProperty(\r\n            cacheCookies,\r\n            kv[0],\r\n            {\r\n                // enumerable: false,\r\n                // configurable: false,\r\n                // writable: false,\r\n                value: JSON.parse(decodeURIComponent(kv[1]))\r\n            }\r\n        );\r\n    }\r\n}\r\n\r\n/**\r\n * 获得Cookie\r\n * @param name\r\n * @param reload 刷新缓存\r\n */\r\nexport const get = (\r\n    name: string,\r\n    reload?: boolean\r\n): ValueType => {\r\n    if (undefined === cacheCookies || true === reload) loadCookies();\r\n    // @ts-ignore\r\n    return cacheCookies[name];\r\n}","/*\r\n        <form>\r\n            <input type=\"radio\" name=\"radio\" value=\"T\" />\r\n            <input type=\"radio\" name=\"radio\" value=\"F\" />\r\n            <br>\r\n\r\n            <input type=\"checkbox\" name=\"checkbox\" value=\"A\" />\r\n            <input type=\"checkbox\" name=\"checkbox\" value=\"B\" />\r\n            <input type=\"checkbox\" name=\"checkbox\" value=\"C\" />\r\n            <br>\r\n\r\n            <select name=\"select\">\r\n                <option value=\"A\">A</option>\r\n                <option value=\"B\">B</option>\r\n                <option value=\"C\">C</option>\r\n                <option value=\"D\">D</option>\r\n            </select>\r\n            <br>\r\n\r\n            <input type=\"file\" name=\"file\" value=\"\" /><br>\r\n\r\n            <input type=\"text\" name=\"text\" value=\"text\" /><br>\r\n            <input type=\"password\" name=\"password\" value=\"password\" /><br>\r\n            <input type=\"number\" name=\"number\" value=\"999\" /><br>\r\n            <input type=\"range\" name=\"range\" value=\"999\" /><br>\r\n            <input type=\"email\" name=\"email\" value=\"666@abc.com\" /><br>\r\n\r\n            <input type=\"date\" name=\"date\" value=\"1999-10-10\" /><br>\r\n            <input type=\"time\" name=\"time\" value=\"\" /><br>\r\n\r\n            <input type=\"color\" name=\"color\" value=\"\" /><br>\r\n\r\n            <textarea name=\"textarea\">大文本</textarea>\r\n        </form>\r\n*/\r\n\r\ninterface Element {\r\n    name: string | null,\r\n    type: string | null\r\n    value: string | null\r\n    checked: boolean,\r\n    files: FileList,\r\n    click: () => void\r\n}\r\n\r\nexport const getFormValues = (\r\n    form: HTMLFormElement | string\r\n): object | null => {\r\n    let objForm = form instanceof HTMLFormElement ?\r\n        form :\r\n        document.querySelector(form) as HTMLFormElement;\r\n    if ('FORM' !== objForm.tagName.toUpperCase()) return null;\r\n\r\n\r\n    let holder = {};\r\n    for (let element of objForm.elements) {\r\n        // @ts-ignore\r\n        let elem = element as Element;\r\n        if (null === elem.name || null === elem.type) continue;\r\n        // console.log(elem.name, elem.type, elem.value, elem.checked);\r\n\r\n        switch (elem.type) {\r\n            // input radio\r\n            case 'radio':\r\n                if (!elem.checked) break;\r\n                Object.defineProperty(holder, elem.name, { value: elem.value });\r\n                break;\r\n\r\n            // input checkbox\r\n            case 'checkbox':\r\n                if (!holder.hasOwnProperty(elem.name)) {\r\n                    Object.defineProperty(holder, elem.name, { value: [] });\r\n                }\r\n                if (elem.checked) {\r\n                    // @ts-ignore\r\n                    holder[elem.name].push(elem.value);\r\n                }\r\n                break;\r\n            // input file\r\n            case 'file':\r\n                if (elem.files.length > 0) {\r\n                    Object.defineProperty(holder, elem.name, { value: elem.files[0] });\r\n                }\r\n                break;\r\n            // select\r\n            case 'select-one':\r\n            // input\r\n            case 'text':\r\n            case 'password':\r\n            case 'number':\r\n            case 'email':\r\n            case 'range':\r\n            // input\r\n            case 'date':\r\n            case 'time':\r\n            case 'datetime':\r\n            case 'datetime-local':\r\n            case 'week':\r\n            case 'month':\r\n            case 'year':\r\n            // input\r\n            case 'color':\r\n            // textarea\r\n            case 'textarea':\r\n                if (holder.hasOwnProperty(elem.name)) break;\r\n                Object.defineProperty(holder, elem.name, { value: elem.value });\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n    return holder;\r\n};\r\n\r\n\r\nexport const setFormValues = (\r\n    form: HTMLFormElement | string,\r\n    data: object\r\n): void => {\r\n    let objForm = form instanceof HTMLFormElement ?\r\n        form :\r\n        document.querySelector(form) as HTMLFormElement;\r\n    if ('FORM' !== objForm.tagName.toUpperCase()) return;\r\n\r\n\r\n    for (let name of Object.keys(data)) {\r\n        // @ts-ignore\r\n        const value = data[name];\r\n        // @ts-ignore\r\n        const elements = objForm.querySelectorAll(`input[name='${name}'],select[name='${name}'],textarea[name='${name}']`) as Array<Element>;\r\n        if (0 === elements.length) continue;\r\n\r\n        switch (elements[0].type) {\r\n            case 'radio':\r\n                for (let item of elements) {\r\n                    if ('radio' === item.type) {\r\n                        item.checked = (value == item.value);\r\n                    }\r\n                } break;\r\n            case 'checkbox':\r\n                for (let item of elements) {\r\n                    if ('checkbox' === item.type) {\r\n                        item.checked = (value as Array<string>).some(x => x == item.value);\r\n                    }\r\n                } break;\r\n            case 'file':\r\n                elements[0].click();\r\n            default:\r\n                elements[0].value = value;\r\n                break;\r\n        }\r\n    }\r\n};\r\n\r\n\r\n/**\r\n *\r\n * @param sel\r\n * @param data\r\n */\r\nexport const setSelectOptions = (\r\n    sel: HTMLSelectElement | string,\r\n    data: Array<{ title: string, value: string }>\r\n): void => {\r\n    let obj = sel instanceof HTMLSelectElement ?\r\n        sel :\r\n        document.querySelector(sel) as HTMLSelectElement;\r\n    if ('SELECT' !== obj.tagName.toUpperCase()) return;\r\n    obj.options.length = 0;\r\n    data.forEach(element => {\r\n        obj.add(new Option(element.title, element.value));\r\n    });\r\n};\r\n\r\n\r\n// export interface onAddInputCallback {\r\n//     (\r\n//         label: HTMLLabelElement,\r\n//         input: HTMLInputElement,\r\n//         span: HTMLSpanElement\r\n//     ): any\r\n// };\r\n// export const addInputs = (\r\n//     holder: HTMLElement | string,\r\n//     data: Array<{ title: string, value: string, after: boolean }>,\r\n//     callback?: onAddInputCallback\r\n// ): void => {\r\n//     let obj = holder instanceof HTMLElement ?\r\n//         holder :\r\n//         document.querySelector(holder) as HTMLElement;\r\n//     if (null === obj) return;\r\n\r\n//     data.forEach(element => {\r\n//         let label = document.createElement('label') as HTMLLabelElement;\r\n//         let span = document.createElement('span') as HTMLSpanElement;\r\n//         let input = document.createElement('input') as HTMLInputElement;\r\n\r\n//         span.innerHTML = element.title;\r\n//         input.value = element.value;\r\n//         if (undefined !== callback) callback(label, input, span);\r\n//         if (true === element.after) {\r\n//             label.appendChild(input);\r\n//             label.appendChild(span);\r\n//         } else {\r\n//             label.appendChild(span);\r\n//             label.appendChild(input);\r\n//         }\r\n//         obj.appendChild(label);\r\n//     });\r\n// };\r\n","const __URL__ = window.URL || window.webkitURL;\r\n// __URL__.createObjectURL(obj)\r\n\r\ninterface onFileLoadCallback {\r\n    (fs: null | FileList): void\r\n};\r\nexport class FileLoader {\r\n    private input: HTMLInputElement;\r\n    constructor() {\r\n        this.input = document.createElement('input');\r\n        this.input.type = 'file';\r\n    }\r\n    set(field: string, value: string): void {\r\n        this.input.setAttribute(field, value);\r\n    }\r\n    bind(callback: onFileLoadCallback) {\r\n        const input = this.input;\r\n        input.onchange = function (this: GlobalEventHandlers, ev: Event) {\r\n            callback(input.files);\r\n        };\r\n    }\r\n    load(): void {\r\n        this.input.value = \"\";\r\n        this.input.click();\r\n    }\r\n    bindLoad(callback: onFileLoadCallback) {\r\n        this.bind(callback);\r\n        this.load();\r\n    }\r\n};\r\n\r\n\r\nexport const downloadBlob = (\r\n    blob: Blob,\r\n    filename?: string\r\n) => {\r\n    filename = filename || \"file\" + new Date().getTime();\r\n    const A: HTMLAnchorElement = document.createElement('a');\r\n    A.href = __URL__.createObjectURL(blob);\r\n    A.download = filename;\r\n    A.click();\r\n    A.remove();\r\n};\r\n\r\n\r\nexport const downloadText = (\r\n    text: string | object,\r\n    filename?: string\r\n) => {\r\n    let blob = new Blob([\r\n        JSON.stringify(text, undefined, '    ')\r\n    ]);\r\n    downloadBlob(blob, filename);\r\n}\r\n\r\n\r\ninterface onFileFinishedCallback {\r\n    (result: string | ArrayBuffer | null): void\r\n};\r\nexport const readFileText = (f: File | Blob, callback: onFileFinishedCallback) => {\r\n    const reader = new FileReader();\r\n    reader.readAsText(f);\r\n    reader.onload = function (this: FileReader, ev: ProgressEvent<FileReader>) {\r\n        callback(this.result)\r\n    }\r\n};\r\nexport const readFileBase64 = (f: File | Blob, callback: onFileFinishedCallback) => {\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(f);\r\n    reader.onload = function (this: FileReader, ev: ProgressEvent<FileReader>) {\r\n        callback(this.result)\r\n    }\r\n};\r\nexport const readFileBinary = (f: File | Blob, callback: onFileFinishedCallback) => {\r\n    const reader = new FileReader();\r\n    reader.readAsBinaryString(f);\r\n    reader.onload = function (this: FileReader, ev: ProgressEvent<FileReader>) {\r\n        callback(this.result)\r\n    }\r\n};\r\n"],"sourceRoot":""}