{"version":3,"sources":["webpack://WebBasicJS/webpack/bootstrap","webpack://WebBasicJS/./src/index.js","webpack://WebBasicJS/./src/lib/ajax.ts","webpack://WebBasicJS/./src/lib/cookie.js","webpack://WebBasicJS/./src/lib/date.js","webpack://WebBasicJS/./src/lib/file.js","webpack://WebBasicJS/./src/lib/form.ts","webpack://WebBasicJS/./src/lib/hash.ts","webpack://WebBasicJS/./src/lib/screen.ts"],"names":["module","exports","hash","require","screen","form","ajax","cookie","file","date","getExpireTime","expire","Date","setTime","getTime","undefined","setCookie","name","value","path","buffer","push","trim","Object","encodeURIComponent","JSON","stringify","toUTCString","document","join","delCookie","cacheCookies","loadCookies","cookies","split","item","p","indexOf","key","substr","val","decodeURIComponent","getCookie","parse","reload","get","set","del","formatDate","toFormat","formatType","buf","i","length","ch","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","timestamp","d","format","URL","window","webkitURL","fileLoader","callback","input","createElement","setAttribute","addEventListener","files","cb","click","fileDownloadBlob","blob","filename","element","createObjectURL","remove","fileDownloadText","text","Blob","createBlobURL","obj","readFileText","f","reader","FileReader","readAsText","onload","result","readFileBase64","readAsDataURL","readFileBinary","readAsBinaryString","loader","download","downloadText"],"mappings":"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","file":"WebBasicJS-1.0.0.dev.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","// require(\"@babel/polyfill\");  // 兼容低版本浏览器Promise\r\n\r\nmodule.exports = {\r\n    hash: require(\"./lib/hash.ts\"),\r\n    screen: require(\"./lib/screen.ts\"),\r\n    form: require(\"./lib/form.ts\"),\r\n    ajax: require(\"./lib/ajax.ts\"),\r\n    cookie: require(\"./lib/cookie\"),\r\n    file: require(\"./lib/file\"),\r\n    date: require(\"./lib/date\"),\r\n};","// @ts-ignore\r\nimport hash = require(\"./hash.ts\");\r\n\r\n\r\nconst requestBase = (\r\n    method: string,\r\n    url: string,\r\n    body: BodyInit | null,\r\n    readyCallback: (readyState: number, request: XMLHttpRequest) => any\r\n) => {\r\n    const request: XMLHttpRequest = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject(\"Microsoft.XMLHTTP\");\r\n    request.onreadystatechange = function (ev: Event) {\r\n        /*readyState\r\n            0 === XMLHttpRequest.UNSENT\r\n            1 === XMLHttpRequest.OPENED\r\n            2 === XMLHttpRequest.HEADERS_RECEIVED\r\n            3 === XMLHttpRequest.LOADING\r\n            4 === XMLHttpRequest.DONE\r\n        */\r\n        readyCallback(this.readyState, this)\r\n    };\r\n    request.open(method, url);\r\n    request.send(body);\r\n};\r\n\r\n\r\nconst requestCommon = (\r\n    method: string,\r\n    url: string,\r\n    type: XMLHttpRequestResponseType,\r\n    body: BodyInit | null,\r\n    headers: object | null\r\n): Promise<any> => {\r\n    return new Promise((resolve: any, reject) => {\r\n        // <Promise>\r\n        // ■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■\r\n        requestBase(method, url, body, (readyState, request) => {\r\n            switch (readyState) {\r\n                case XMLHttpRequest.OPENED:\r\n                    // 设置接受值\r\n                    request.responseType = type || 'text';\r\n                    // 设置请求头\r\n                    if (undefined===headers || null===headers) return;\r\n                    for (let key of Object.keys(headers))\r\n                        // @ts-ignore\r\n                        request.setRequestHeader(key, headers[key]);\r\n                        break;\r\n                case XMLHttpRequest.DONE:\r\n                    if (request.status >= 200 && request.status < 300 || 304 === request.status /* ReadCache */ ) {\r\n                        // request.response\r\n                        // request.getAllResponseHeaders()\r\n                        resolve(request.response);\r\n                    } else {\r\n                        reject(new Error(request.statusText));\r\n                    }\r\n                    break;\r\n            }\r\n        });\r\n        // ■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■\r\n        // </Promise>\r\n    });\r\n};\r\n\r\n\r\nconst get = (\r\n    url: string,\r\n    type: XMLHttpRequestResponseType,\r\n    data: object,\r\n    headers: object\r\n) => {\r\n    if (undefined !== data && null !== data) {\r\n        url = `${url}?${hash.toGetString(data)}`;\r\n    }\r\n    return requestCommon(\"GET\", url, type, null, headers);\r\n};\r\n\r\n\r\nconst post = (\r\n    url: string,\r\n    type: XMLHttpRequestResponseType,\r\n    data: object | FormData,\r\n    headers: object\r\n) => {\r\n    let form = null;\r\n    if (undefined !== data && null !== data) {\r\n        if (data instanceof FormData) {\r\n            form = data;\r\n        } else {\r\n            form = new FormData();\r\n            for (let key of Object.keys(data)) {\r\n                // @ts-ignore\r\n                form.append(key, data[key]);\r\n            }\r\n        }\r\n    }\r\n    return requestCommon(\"POST\", url, type, form, headers);\r\n};\r\n\r\n\r\nclass Requester {\r\n    get prefix(): string {\r\n        return this._prefix;\r\n    }\r\n    set prefix(value: string) {\r\n        this._prefix = value;\r\n    }\r\n    get data(): object {\r\n        return this._data;\r\n    }\r\n    set data(value: object) {\r\n        this._data = value;\r\n    }\r\n    get headers(): object {\r\n        return this._headers;\r\n    }\r\n    set headers(value: object) {\r\n        this._headers = value;\r\n    }\r\n    private _prefix: string;\r\n    private _data: object;\r\n    private _headers: object;\r\n    constructor(prefix: string, data: object, headers: object) {\r\n        this._prefix = (undefined===prefix || null===prefix) ? \"\" : prefix;\r\n        this._data = (undefined===data || null===data) ? {} : data;\r\n        this._headers = (undefined===headers || null===headers) ? {} : headers;\r\n    }\r\n\r\n    get(url: string, type: XMLHttpRequestResponseType, data: object, headers: object) {\r\n        data = data || {};\r\n        headers = headers || {};\r\n        return get(\r\n            this._prefix + url,\r\n            type,\r\n            {...this._data, ...data},\r\n            {...this._headers, ...headers}\r\n        );\r\n    }\r\n    post(url: string, type: XMLHttpRequestResponseType, data: object, headers: object) {\r\n        data = data || {};\r\n        headers = headers || {};\r\n        return post(\r\n            this._prefix + url,\r\n            type,\r\n            {...this._data, ...data},\r\n            {...this._headers, ...headers}\r\n        );\r\n    }\r\n\r\n    getJson(url: string, data: object, headers: object) {\r\n        return get(url, \"json\", data, headers);\r\n    }\r\n    postJson(url: string, data: object, headers: object) {\r\n        return post(url, \"json\", data, headers);\r\n    }\r\n    getBlob(url: string, data: object, headers: object) {\r\n        return get(url, \"blob\", data, headers);\r\n    }\r\n    postBlob(url: string, data: object, headers: object) {\r\n        return post(url, \"blob\", data, headers);\r\n    }\r\n}\r\n\r\n\r\nexport {\r\n    get,\r\n    post,\r\n    Requester\r\n};\r\n","\r\n/**\r\n * 获取到期时间\r\n * @param {Date|String|Number} [expire]\r\n */\r\nfunction getExpireTime(expire) {\r\n    // Date: 传入值——到期时间（Date）\r\n    if (expire instanceof Date) {\r\n        return expire;\r\n    }\r\n    // String: 传入值——到期时间（String）\r\n    if ('string' === typeof expire) {\r\n        return new Date(expire);\r\n    }\r\n    // Number: 传入值——有效时间（秒）\r\n    if ('number' === typeof expire) {\r\n        let date = new Date();\r\n        date.setTime(date.getTime() + (expire * 1000));\r\n        return date;\r\n    }\r\n    // Undefined\r\n    return undefined;\r\n}\r\n\r\n\r\n/**\r\n * 设置Cookie\r\n * @param {String} name\r\n * @param {String|Number|Object} value\r\n * @param {Date|String|Number} [expire]\r\n * @param [path]\r\n */\r\nfunction setCookie(name, value, expire, path) {\r\n    expire = getExpireTime(expire);\r\n    const buffer = [];\r\n    // K-V\r\n    buffer.push(name.trim());\r\n    buffer.push('=');\r\n    if (value instanceof Object) {\r\n        buffer.push(encodeURIComponent(JSON.stringify(value)));\r\n    } else {\r\n        buffer.push(encodeURIComponent(value));\r\n    }\r\n    // expire\r\n    if (undefined !== expire) {\r\n        buffer.push(';expires=');\r\n        buffer.push(expire.toUTCString());\r\n    }\r\n    // path\r\n    if (undefined !== path) {\r\n        buffer.push(';path=');\r\n        buffer.push(path);\r\n    }\r\n    document.cookie = buffer.join('');\r\n}\r\n\r\n\r\n/**\r\n * 删除Cookie\r\n * @param name\r\n * @param [path]\r\n */\r\nfunction delCookie(name, path) {\r\n    const buffer = [];\r\n    // K-V\r\n    buffer.push(name.trim());\r\n    buffer.push('=');\r\n    // expires\r\n    buffer.push(';expires=');\r\n    buffer.push(new Date().toUTCString());\r\n    // path\r\n    if (undefined !== path) {\r\n        buffer.push(';path=');\r\n        buffer.push(path);\r\n    }\r\n    document.cookie = buffer.join('');\r\n}\r\n\r\n\r\nlet cacheCookies = undefined;\r\n/**\r\n * 加载Cookie\r\n */\r\nfunction loadCookies() {\r\n    cacheCookies = Object();\r\n    let cookies = document.cookie.split(';');\r\n    for (let item of cookies) {\r\n        item = item.trim();\r\n        let p = item.indexOf('=');\r\n        let key = item.substr(0, p).trim();\r\n        let val = item.substr(p + 1).trim();\r\n        cacheCookies[key] = decodeURIComponent(val);\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * 获得Cookie\r\n * @param name\r\n * @param [parse] JSON解析\r\n * @param [reload] 刷新缓存\r\n */\r\nfunction getCookie(name, parse, reload) {\r\n    if (undefined === cacheCookies || true === reload) loadCookies();\r\n    if (true===parse) {\r\n        return JSON.parse(cacheCookies[name]);\r\n    } else {\r\n        return cacheCookies[name];\r\n    }\r\n}\r\n\r\n\r\nmodule.exports = {\r\n    get: getCookie,\r\n    set: setCookie,\r\n    del: delCookie\r\n};","/**\r\n * 日期格式化\r\n * @param {Date|string} [toFormat]\r\n * @param {string} [formatType]\r\n * @returns {string}\r\n */\r\nconst formatDate = (toFormat, formatType) => {\r\n    if (undefined===toFormat)\r\n        toFormat = new Date();\r\n    else\r\n        toFormat = (toFormat instanceof Date) ? toFormat : new Date(toFormat);\r\n    formatType = formatType || 'y-M-d h:m:s';\r\n    const buf = [];\r\n    for(let i=0; i<formatType.length; i++) {\r\n        let ch = formatType.substr(i, 1);\r\n        switch(ch) {\r\n            case 'y': buf.push(toFormat.getFullYear()); break;\r\n            case 'M': buf.push(toFormat.getMonth()+1); break;\r\n            case 'd': buf.push(toFormat.getDate()); break;\r\n            case 'h': buf.push(toFormat.getHours()); break;\r\n            case 'm': buf.push(toFormat.getMinutes()); break;\r\n            case 's': buf.push(toFormat.getSeconds()); break;\r\n            case 'S': buf.push(toFormat.getMilliseconds()); break;\r\n            default: buf.push(ch); break;\r\n        }\r\n    }\r\n    return buf.join('');\r\n};\r\n\r\n\r\n/**\r\n * 时间戳\r\n * @param {Date|string} d\r\n * @returns {Number}\r\n */\r\nconst timestamp = (d) => {\r\n    return new Date(d).getTime();\r\n};\r\n\r\n\r\nmodule.exports = {\r\n    format: formatDate,\r\n    timestamp\r\n};","const URL = window.URL || window.webkitURL;\r\n\r\nconst fileLoader = (() => {\r\n    /** @type {function(FileList)} */\r\n    let callback = null;\r\n    const input = document.createElement('input');\r\n    input.setAttribute('type', 'file');\r\n    input.addEventListener('change', () => {\r\n        if (undefined!==callback) callback(input.files);\r\n    });\r\n    return (cb) => {\r\n        if (undefined!==cb) callback = cb;\r\n        input.value = null; // 解决选择相同文件问题\r\n        input.click();\r\n    }\r\n})();\r\n\r\n\r\n/**\r\n * 生成文件下载\r\n * @param {Blob} blob\r\n * @param {String} [filename]\r\n */\r\nconst fileDownloadBlob = (blob, filename) => {\r\n    filename = filename || \"file@\" + new Date().getTime();\r\n    const element = document.createElement('a');\r\n    element.setAttribute('href', URL.createObjectURL(blob));\r\n    element.setAttribute('download', filename);\r\n    element.click();\r\n    element.remove();\r\n};\r\n\r\n\r\n/**\r\n * 生成文件下载\r\n * @param {String|Object} text\r\n * @param {String} [filename]\r\n */\r\nconst fileDownloadText = (text, filename) => {\r\n    let blob;\r\n    if (text instanceof Object) {\r\n        blob = new Blob([JSON.stringify(text,undefined, '    ')])\r\n    } else {\r\n        blob = new Blob([text])\r\n    }\r\n    fileDownloadBlob(blob, filename);\r\n};\r\n\r\n\r\n/**\r\n * @param {Blob} obj\r\n * @returns {String}\r\n */\r\nconst createBlobURL = (obj) => {\r\n    return URL.createObjectURL(obj)\r\n};\r\n\r\n\r\n/**\r\n * @param {File} f\r\n * @param {function(String)} callback\r\n */\r\nconst readFileText = (f, callback) => {\r\n    const reader = new FileReader();\r\n    reader.readAsText(f);\r\n    reader.onload = function() { callback(this.result) }\r\n};\r\n/**\r\n * @param {File} f\r\n * @param {function(String)} callback\r\n */\r\nconst readFileBase64 = (f, callback) => {\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(f);\r\n    reader.onload = function() { callback(this.result) }\r\n};\r\n/**\r\n * @param {File} f\r\n * @param {function(ArrayBuffer)} callback\r\n */\r\nconst readFileBinary = (f, callback) => {\r\n    const reader = new FileReader();\r\n    reader.readAsBinaryString(f);\r\n    reader.onload = function() { callback(this.result) }\r\n};\r\n\r\n\r\nmodule.exports = {\r\n    loader: fileLoader,\r\n    download: fileDownloadBlob,\r\n    downloadText: fileDownloadText,\r\n    createBlobURL,\r\n    readFileText,\r\n    readFileBase64,\r\n    readFileBinary\r\n};","\r\n\r\nconst getValues = (objForm: HTMLFormElement) => {\r\n    if ('FORM' !== objForm.tagName.toUpperCase()) return null;\r\n    const elements: HTMLFormControlsCollection = objForm.elements;\r\n    let holder = {};\r\n    for (let element of elements) {\r\n        // @ts-ignore\r\n        const nodeName: string | null = element.name;\r\n        // @ts-ignore\r\n        const nodeType: string | null = element.type;\r\n        // @ts-ignore\r\n        const nodeValue: string | null = element.value;\r\n        // @ts-ignore\r\n        const nodeIsChecked: boolean = element.checked;\r\n        if (null === nodeName || null === nodeType) continue;\r\n        // console.log(nodeName, nodeType, nodeValue, nodeIsChecked);\r\n\r\n        switch (nodeType) {\r\n            case 'radio':\r\n                if (!nodeIsChecked) break;\r\n                Object.defineProperty(holder, nodeName, { \r\n                    value: nodeValue,\r\n                    writable: false,\r\n                    enumerable: true\r\n                });\r\n                break;\r\n            case 'checkbox':\r\n                if (!holder.hasOwnProperty(nodeName)) {\r\n                    Object.defineProperty(holder, nodeName, {\r\n                        value: [],\r\n                        writable: false,\r\n                        enumerable: true\r\n                    });\r\n                }\r\n                if (nodeIsChecked){\r\n                    // @ts-ignore\r\n                    holder[nodeName].push(nodeValue);\r\n                }\r\n                break;\r\n            case 'select-one':\r\n            case 'text':\r\n            case 'textarea':\r\n            case 'number':\r\n            case 'email':\r\n            case 'date':\r\n                Object.defineProperty(holder, nodeName, {\r\n                    value: nodeValue,\r\n                    writable: false,\r\n                    enumerable: true\r\n                });\r\n                break;\r\n        }\r\n    }\r\n    return holder;\r\n};\r\n\r\n\r\nconst setValues = (objForm: HTMLFormElement, data: object) => {\r\n    for (let name of Object.keys(data)) {\r\n        // @ts-ignore\r\n        const value = data[name];\r\n        const elements = objForm.querySelectorAll(`input[name='${name}'],select[name='${name}'],textarea[name='${name}']`);\r\n        if (0 === elements.length) continue;\r\n        // @ts-ignore\r\n        switch (elements[0].type) {\r\n            case 'radio':\r\n                for (let item of elements) {\r\n                    // @ts-ignore\r\n                    item.checked = (value == item.value);\r\n                } break;\r\n            case 'checkbox':\r\n                for (let item of elements) {\r\n                    // @ts-ignore\r\n                    item.checked = value.some(x => x == item.value);\r\n                } break;\r\n            default:\r\n                // @ts-ignore\r\n                elements[0].value = value;\r\n                break;\r\n        }\r\n    }\r\n};\r\n\r\n\r\nconst setOptions = (objSelect: HTMLSelectElement, data: { title: string, value: string }[]) => {\r\n    objSelect.options.length = 0;\r\n    data.forEach(element => {\r\n        objSelect.add(new Option(element.title, element.value));\r\n    });\r\n};\r\n\r\n\r\nconst setInputs = (\r\n    objDiv: HTMLDivElement, \r\n    data: { title: string, value: string }[], \r\n    callback: (label: HTMLLabelElement, input: HTMLInputElement, span: HTMLSpanElement) => any\r\n) => {\r\n    objDiv.innerHTML = \"\";\r\n    data.forEach(element => {\r\n        let label = document.createElement('label');\r\n        let input = document.createElement('input');\r\n        let span = document.createElement('span');\r\n\r\n        input.value = element.value;\r\n        span.innerHTML = element.title;\r\n        callback(label, input, span);\r\n    \r\n        label.appendChild(input);\r\n        label.appendChild(span);\r\n        objDiv.appendChild(label);\r\n    });\r\n};\r\n\r\n\r\nexport {\r\n    // serialize,\r\n    getValues,\r\n    setValues,\r\n    setOptions,\r\n    setInputs,\r\n};\r\n","/**\r\n * Object->String\r\n * @param obj: DataHolder\r\n * @param sep: Separator\r\n * @param eqs: Equal sign\r\n */\r\nfunction toGetString(obj: object, sep?: string, eqs?: string): string {\r\n    sep = sep || '&';\r\n    eqs = eqs || '=';\r\n    const buffer: string[] = [];\r\n    for (let key of Object.keys(obj)) {\r\n        // @ts-ignore\r\n        let val: any = obj[key];\r\n        buffer.push([key, encodeURIComponent(val)].join(eqs));\r\n    }\r\n    return buffer.join(sep);\r\n}\r\n\r\n\r\n/**\r\n * String->Dict\r\n * @param str\r\n * @param sep\r\n * @param eqs\r\n */\r\nfunction parseGetString(str: string, sep?: string, eqs?: string): object {\r\n    let buffer = Object();\r\n    str = str.trim();\r\n    if (0 === str.length) return buffer;\r\n    sep = sep || '&';\r\n    eqs = eqs || '=';\r\n    for (let item of str.split(sep)) {\r\n        let kv: string[] = item.split(eqs);\r\n        buffer[kv[0]] = decodeURIComponent(kv[1]);\r\n    }\r\n    return buffer;\r\n}\r\n\r\n\r\n/**\r\n * Catch HashChange\r\n */\r\nfunction pushOnHashChange(\r\n    fn: (\r\n        hash:string,\r\n        handlers:WindowEventHandlers,\r\n        event:HashChangeEvent\r\n    ) => any\r\n) {\r\n    // @ts-ignore\r\n    const preHCE: (ev: HashChangeEvent) => any = window.onhashchange;\r\n    if (undefined === preHCE || null === preHCE) {\r\n        // 直接添加\r\n        window.onhashchange = function (ev: HashChangeEvent) {\r\n            fn(window.location.hash.substr(1), this, ev);\r\n        }\r\n    } else {\r\n        // 方法链\r\n        window.onhashchange = function (ev: HashChangeEvent) {\r\n            preHCE.call(this, ev);\r\n            fn(window.location.hash.substr(1), this, ev);\r\n        };\r\n    }\r\n}\r\n\r\n\r\nexport {\r\n    toGetString,\r\n    parseGetString,\r\n    pushOnHashChange,\r\n};","\r\n/**\r\n * 添加尺寸调整响应\r\n */\r\nfunction pushOnScreenResize(\r\n    fn: (\r\n        rect: {w: number, h: number},\r\n        handlers: GlobalEventHandlers | null,\r\n        event: UIEvent | null\r\n    ) => any\r\n) {\r\n    // @ts-ignore\r\n    const preRE: (ev: UIEvent) => any = window.onresize;\r\n    if (undefined === preRE || null === preRE) {\r\n        // 首次\r\n        window.onresize = function (ev: UIEvent) {\r\n            fn({\r\n                w: document.documentElement.clientWidth,\r\n                h: document.documentElement.clientHeight\r\n            }, this, ev);\r\n        };\r\n    } else {\r\n        // 函数链\r\n        window.onresize = function (ev: UIEvent) {\r\n            preRE.call(this, ev);\r\n            fn({\r\n                w: document.documentElement.clientWidth,\r\n                h: document.documentElement.clientHeight\r\n            }, this, ev);\r\n        };\r\n    }\r\n    // 激活\r\n    fn({\r\n        w: document.documentElement.clientWidth,\r\n        h: document.documentElement.clientHeight\r\n    }, null, null);\r\n}\r\n\r\n\r\nexport {\r\n    pushOnScreenResize\r\n};"],"sourceRoot":""}